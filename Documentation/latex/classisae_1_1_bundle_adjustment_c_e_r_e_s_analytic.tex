\hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic}{}\doxysection{isae\+::Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic Class Reference}
\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic}\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}


An optimizer that uses Angular Cost function on the unit sphere for Bundle Adjustment and analytical jacobian derivation.  




{\ttfamily \#include $<$Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic.\+h$>$}



Inheritance diagram for isae\+::Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for isae\+::Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2f76aaef5de0c3af19727922a27ec31f}{Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic}} ()=default
\item 
\mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a64724318eddb035f925ee1f0ebb28eaa}{$\sim$\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic}} ()=default
\item 
virtual bool \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_ab6739aac0d7d5e95b090d40d1b915075}{marginalize}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&frame0, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&frame1, bool enable\+\_\+sparsif) override
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classisae_1_1_marginalization}{Marginalization}} of a frame and its landmarks. \end{DoxyCompactList}\item 
virtual Eigen\+::\+Matrix\+Xd \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_af3de7ecaa58f8d584bd3e411bbd31778}{marginalize\+Relative}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&frame0, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&frame1) override
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classisae_1_1_marginalization}{Marginalization}} of all the landmarks linked to two frame and computation of the information matrix of the relative pose. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
uint \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_adca2a0348ef53521bc1d4f011ef3be5f}{add\+Residuals\+Local\+Map}} (ceres\+::\+Problem \&problem, ceres\+::\+Loss\+Function $\ast$loss\+\_\+function, ceres\+::\+Parameter\+Block\+Ordering $\ast$ordering, std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$$>$ \&frame\+\_\+vector, size\+\_\+t fixed\+\_\+frame\+\_\+number, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_local_map}{isae\+::\+Local\+Map}} $>$ \&local\+\_\+map) override
\begin{DoxyCompactList}\small\item\em Add visual residuals to a C\+E\+R\+ES problem for a local map. \end{DoxyCompactList}\item 
uint \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a106a9651d7783b34578ecf2c7797a84d}{add\+Single\+Frame\+Residuals}} (ceres\+::\+Problem \&problem, ceres\+::\+Loss\+Function $\ast$loss\+\_\+function, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&frame, \mbox{\hyperlink{namespaceisae_a4b744e0e080a733838eb133deda894aa}{typed\+\_\+vec\+\_\+landmarks}} \&cloud\+\_\+to\+\_\+optimize) override
\begin{DoxyCompactList}\small\item\em Add visual residuals to a C\+E\+R\+ES problem for a motion only BA. \end{DoxyCompactList}\item 
uint \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a66907e754927d50e5d0313597e5fbf93}{add\+Landmark\+Residuals}} (ceres\+::\+Problem \&problem, ceres\+::\+Loss\+Function $\ast$loss\+\_\+function, \mbox{\hyperlink{namespaceisae_a4b744e0e080a733838eb133deda894aa}{typed\+\_\+vec\+\_\+landmarks}} \&cloud\+\_\+to\+\_\+optimize) override
\begin{DoxyCompactList}\small\item\em Add visual residuals to a C\+E\+R\+ES problem for structure only BA. \end{DoxyCompactList}\item 
uint \mbox{\hyperlink{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2e4aadc4e03a9a1f098770d32a56aa49}{add\+Marginalization\+Residuals}} (ceres\+::\+Problem \&problem, ceres\+::\+Loss\+Function $\ast$loss\+\_\+function, ceres\+::\+Parameter\+Block\+Ordering $\ast$ordering) override
\begin{DoxyCompactList}\small\item\em Add marginalization residuals to a C\+E\+R\+ES problem. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
An optimizer that uses Angular Cost function on the unit sphere for Bundle Adjustment and analytical jacobian derivation. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2f76aaef5de0c3af19727922a27ec31f}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2f76aaef5de0c3af19727922a27ec31f}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!BundleAdjustmentCERESAnalytic@{BundleAdjustmentCERESAnalytic}}
\index{BundleAdjustmentCERESAnalytic@{BundleAdjustmentCERESAnalytic}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{BundleAdjustmentCERESAnalytic()}{BundleAdjustmentCERESAnalytic()}}
{\footnotesize\ttfamily isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a64724318eddb035f925ee1f0ebb28eaa}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a64724318eddb035f925ee1f0ebb28eaa}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!````~BundleAdjustmentCERESAnalytic@{$\sim$BundleAdjustmentCERESAnalytic}}
\index{````~BundleAdjustmentCERESAnalytic@{$\sim$BundleAdjustmentCERESAnalytic}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{$\sim$BundleAdjustmentCERESAnalytic()}{~BundleAdjustmentCERESAnalytic()}}
{\footnotesize\ttfamily isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::$\sim$\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a66907e754927d50e5d0313597e5fbf93}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a66907e754927d50e5d0313597e5fbf93}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!addLandmarkResiduals@{addLandmarkResiduals}}
\index{addLandmarkResiduals@{addLandmarkResiduals}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{addLandmarkResiduals()}{addLandmarkResiduals()}}
{\footnotesize\ttfamily uint isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::add\+Landmark\+Residuals (\begin{DoxyParamCaption}\item[{ceres\+::\+Problem \&}]{problem,  }\item[{ceres\+::\+Loss\+Function $\ast$}]{loss\+\_\+function,  }\item[{\mbox{\hyperlink{namespaceisae_a4b744e0e080a733838eb133deda894aa}{typed\+\_\+vec\+\_\+landmarks}} \&}]{cloud\+\_\+to\+\_\+optimize }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Add visual residuals to a C\+E\+R\+ES problem for structure only BA. 


\begin{DoxyParams}{Parameters}
{\em problem} & The C\+E\+R\+ES problem to which the residuals will be added. \\
\hline
{\em loss\+\_\+function} & The loss function to be used for the residuals. \\
\hline
{\em cloud\+\_\+to\+\_\+optimize} & The landmarks to be optimized. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of residuals added. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classisae_1_1_a_optimizer_ab200573dfb0edebe7b2628e28f9cefef}{isae\+::\+A\+Optimizer}}.

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2e4aadc4e03a9a1f098770d32a56aa49}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a2e4aadc4e03a9a1f098770d32a56aa49}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!addMarginalizationResiduals@{addMarginalizationResiduals}}
\index{addMarginalizationResiduals@{addMarginalizationResiduals}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{addMarginalizationResiduals()}{addMarginalizationResiduals()}}
{\footnotesize\ttfamily uint isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::add\+Marginalization\+Residuals (\begin{DoxyParamCaption}\item[{ceres\+::\+Problem \&}]{problem,  }\item[{ceres\+::\+Loss\+Function $\ast$}]{loss\+\_\+function,  }\item[{ceres\+::\+Parameter\+Block\+Ordering $\ast$}]{ordering }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Add marginalization residuals to a C\+E\+R\+ES problem. 


\begin{DoxyParams}{Parameters}
{\em problem} & The C\+E\+R\+ES problem to which the residuals will be added. \\
\hline
{\em loss\+\_\+function} & The loss function to be used for the residuals. \\
\hline
{\em ordering} & The parameter block ordering for the problem. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of marginalization residuals added. 
\end{DoxyReturn}
C\+A\+SE 1 V\+IO ///

C\+A\+SE 2 VO ///

Reimplemented from \mbox{\hyperlink{classisae_1_1_a_optimizer_a61bad18320dd6d0863f48cdbb738c5c1}{isae\+::\+A\+Optimizer}}.

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_adca2a0348ef53521bc1d4f011ef3be5f}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_adca2a0348ef53521bc1d4f011ef3be5f}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!addResidualsLocalMap@{addResidualsLocalMap}}
\index{addResidualsLocalMap@{addResidualsLocalMap}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{addResidualsLocalMap()}{addResidualsLocalMap()}}
{\footnotesize\ttfamily uint isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::add\+Residuals\+Local\+Map (\begin{DoxyParamCaption}\item[{ceres\+::\+Problem \&}]{problem,  }\item[{ceres\+::\+Loss\+Function $\ast$}]{loss\+\_\+function,  }\item[{ceres\+::\+Parameter\+Block\+Ordering $\ast$}]{ordering,  }\item[{std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$$>$ \&}]{frame\+\_\+vector,  }\item[{size\+\_\+t}]{fixed\+\_\+frame\+\_\+number,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_local_map}{isae\+::\+Local\+Map}} $>$ \&}]{local\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Add visual residuals to a C\+E\+R\+ES problem for a local map. 


\begin{DoxyParams}{Parameters}
{\em problem} & The C\+E\+R\+ES problem to which the residuals will be added. \\
\hline
{\em loss\+\_\+function} & The loss function to be used for the residuals. \\
\hline
{\em ordering} & The parameter block ordering for the problem. \\
\hline
{\em frame\+\_\+vector} & The vector of frames in the local map. \\
\hline
{\em fixed\+\_\+frame\+\_\+number} & The number of frames to fix during optimization. \\
\hline
{\em local\+\_\+map} & The local map to which the residuals will be added. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of residuals added. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classisae_1_1_a_optimizer_ab4a33aa6977b4d88e7fd3da45f496975}{isae\+::\+A\+Optimizer}}.

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a106a9651d7783b34578ecf2c7797a84d}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_a106a9651d7783b34578ecf2c7797a84d}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!addSingleFrameResiduals@{addSingleFrameResiduals}}
\index{addSingleFrameResiduals@{addSingleFrameResiduals}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{addSingleFrameResiduals()}{addSingleFrameResiduals()}}
{\footnotesize\ttfamily uint isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::add\+Single\+Frame\+Residuals (\begin{DoxyParamCaption}\item[{ceres\+::\+Problem \&}]{problem,  }\item[{ceres\+::\+Loss\+Function $\ast$}]{loss\+\_\+function,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&}]{frame,  }\item[{\mbox{\hyperlink{namespaceisae_a4b744e0e080a733838eb133deda894aa}{typed\+\_\+vec\+\_\+landmarks}} \&}]{cloud\+\_\+to\+\_\+optimize }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Add visual residuals to a C\+E\+R\+ES problem for a motion only BA. 


\begin{DoxyParams}{Parameters}
{\em problem} & The C\+E\+R\+ES problem to which the residuals will be added. \\
\hline
{\em loss\+\_\+function} & The loss function to be used for the residuals. \\
\hline
{\em frame} & The frame to which the residuals will be added. \\
\hline
{\em cloud\+\_\+to\+\_\+optimize} & The landmarks belonging to the frame. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of residuals added. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classisae_1_1_a_optimizer_a06ac6ce2c1121790ad7b28ae0c36de78}{isae\+::\+A\+Optimizer}}.

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_ab6739aac0d7d5e95b090d40d1b915075}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_ab6739aac0d7d5e95b090d40d1b915075}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!marginalize@{marginalize}}
\index{marginalize@{marginalize}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{marginalize()}{marginalize()}}
{\footnotesize\ttfamily bool isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::marginalize (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&}]{frame0,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&}]{frame1,  }\item[{bool}]{enable\+\_\+sparsif }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



\mbox{\hyperlink{classisae_1_1_marginalization}{Marginalization}} of a frame and its landmarks. 


\begin{DoxyParams}{Parameters}
{\em frame0} & The frame to marginalize. \\
\hline
{\em frame1} & The frame to keep connected to frame0. \\
\hline
{\em enable\+\_\+sparsif} & Whether to enable sparsification (default is false).\\
\hline
\end{DoxyParams}
Perform all the marginalization steps for a given frame. A marginalization object deals with all these steps 

Reimplemented from \mbox{\hyperlink{classisae_1_1_a_optimizer_a009b26589c47e46be1b722c9824361ec}{isae\+::\+A\+Optimizer}}.

\mbox{\Hypertarget{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_af3de7ecaa58f8d584bd3e411bbd31778}\label{classisae_1_1_bundle_adjustment_c_e_r_e_s_analytic_af3de7ecaa58f8d584bd3e411bbd31778}} 
\index{isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}!marginalizeRelative@{marginalizeRelative}}
\index{marginalizeRelative@{marginalizeRelative}!isae::BundleAdjustmentCERESAnalytic@{isae::BundleAdjustmentCERESAnalytic}}
\doxysubsubsection{\texorpdfstring{marginalizeRelative()}{marginalizeRelative()}}
{\footnotesize\ttfamily Eigen\+::\+Matrix\+Xd isae\+::\+Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic\+::marginalize\+Relative (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&}]{frame0,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classisae_1_1_frame}{Frame}} $>$ \&}]{frame1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



\mbox{\hyperlink{classisae_1_1_marginalization}{Marginalization}} of all the landmarks linked to two frame and computation of the information matrix of the relative pose. 


\begin{DoxyParams}{Parameters}
{\em frame0} & The first frame to marginalize. \\
\hline
{\em frame1} & The second frame to marginalize. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The information matrix of the relative pose between frame0 and frame1.
\end{DoxyReturn}
This method computes the information matrix of the relative pose between two frames and marginalizes the landmarks linked to them. It uses N\+FR to extract a relative pose factor and to derive its information matrix. 

Reimplemented from \mbox{\hyperlink{classisae_1_1_a_optimizer_ad6985d97b625025955ed106ed2195f23}{isae\+::\+A\+Optimizer}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/deos/ce.\+debeunne/colcon\+\_\+ws/src/\+Sa\+D\+V\+I\+O/cpp/include/isaeslam/optimizers/\mbox{\hyperlink{_bundle_adjustment_c_e_r_e_s_analytic_8h}{Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic.\+h}}\item 
/home/deos/ce.\+debeunne/colcon\+\_\+ws/src/\+Sa\+D\+V\+I\+O/cpp/src/optimizers/\mbox{\hyperlink{_bundle_adjustment_c_e_r_e_s_analytic_8cpp}{Bundle\+Adjustment\+C\+E\+R\+E\+S\+Analytic.\+cpp}}\end{DoxyCompactItemize}
